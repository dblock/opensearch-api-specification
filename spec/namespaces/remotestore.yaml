openapi: 3.1.0
info:
  title: OpenSearch Remote_store API
  description: OpenSearch Remote_store API
  version: 1.0.0
paths:
  /_remotestore/_restore:
    post:
      operationId: remotestore.restore.0
      x-operation-group: remotestore.restore
      x-version-added: '1.0'
      description: Restores from remote store.
      externalDocs:
        url: https://opensearch.org/docs/latest/opensearch/remote/#restoring-from-a-backup
      parameters:
        - $ref: '#/components/parameters/remotestore.restore::query.cluster_manager_timeout'
        - $ref: '#/components/parameters/remotestore.restore::query.wait_for_completion'
      requestBody:
        $ref: '#/components/requestBodies/remotestore.restore'
      responses:
        '200':
          $ref: '#/components/responses/remotestore.restore@200'
components:
  requestBodies:
    remotestore.restore:
      content:
        application/json:
          schema:
            type: object
            description: Comma-separated list of index IDs
            properties:
              indices:
                type: array
                items:
                  type: string
            required:
              - indices
          examples:
            RemoteStoreRestore_example1:
              summary: Examples for Post Remote Storage Restore Operation.
              description: ''
              value:
                indices:
                  - books
      required: true
  responses:
    remotestore.restore@200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              accepted:
                type: boolean
              remotestore:
                $ref: '../schemas/remotestore._common.yaml#/components/schemas/RemoteStoreRestoreInfo'
          examples:
            RemoteStoreRestore_example1:
              summary: Examples for Post Remote Storage Restore Operation.
              description: ''
              value:
                remotestore:
                  indices:
                    - books
                  shards:
                    total: 1
                    failed: 0
                    successful: 1
  parameters:
    remotestore.restore::query.cluster_manager_timeout:
      name: cluster_manager_timeout
      in: query
      description: Operation timeout for connection to cluster-manager node.
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      x-version-added: '2.0'
    remotestore.restore::query.wait_for_completion:
      name: wait_for_completion
      in: query
      description: Should this request wait until the operation has completed before returning.
      schema:
        type: boolean
        default: false
        description: Should this request wait until the operation has completed before returning.
