openapi: 3.1.0
info:
  title: OpenSearch Dangling Indices API
  description: OpenSearch Dangling Indices API
  version: 1.0.0
paths:
  /_dangling:
    get:
      operationId: dangling.list_dangling.0
      x-operation-group: dangling.list_dangling_indices
      x-version-added: '1.0'
      description: Returns all dangling indices.
      externalDocs:
        url: https://opensearch.org/docs/latest/api-reference/index-apis/dangling-index/
      parameters: []
      responses:
        '200':
          $ref: '#/components/responses/dangling.list_dangling_indices@200'
  /_dangling/{index_uuid}:
    post:
      operationId: dangling.import_dangling_index.0
      x-operation-group: dangling.import_dangling_index
      x-version-added: '1.0'
      description: Imports the specified dangling index.
      externalDocs:
        url: https://opensearch.org/docs/latest/api-reference/index-apis/dangling-index/
      parameters:
        - $ref: '#/components/parameters/dangling.import_dangling_index::path.index_uuid'
        - $ref: '#/components/parameters/dangling.import_dangling_index::query.accept_data_loss'
        - $ref: '#/components/parameters/dangling.import_dangling_index::query.cluster_manager_timeout'
        - $ref: '#/components/parameters/dangling.import_dangling_index::query.master_timeout'
        - $ref: '#/components/parameters/dangling.import_dangling_index::query.timeout'
      responses:
        '200':
          $ref: '#/components/responses/dangling.import_dangling_index@200'
    delete:
      operationId: dangling.delete_dangling_index.0
      x-operation-group: dangling.delete_dangling_index
      x-version-added: '1.0'
      description: Deletes the specified dangling index.
      externalDocs:
        url: https://opensearch.org/docs/latest/api-reference/index-apis/dangling-index/
      parameters:
        - $ref: '#/components/parameters/dangling.delete_dangling_index::path.index_uuid'
        - $ref: '#/components/parameters/dangling.delete_dangling_index::query.accept_data_loss'
        - $ref: '#/components/parameters/dangling.delete_dangling_index::query.cluster_manager_timeout'
        - $ref: '#/components/parameters/dangling.delete_dangling_index::query.master_timeout'
        - $ref: '#/components/parameters/dangling.delete_dangling_index::query.timeout'
      responses:
        '200':
          $ref: '#/components/responses/dangling.delete_dangling_index@200'
components:
  requestBodies: {}
  responses:
    dangling.delete_dangling_index@200:
      description: ''
      content:
        application/json:
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/AcknowledgedResponseBase'
    dangling.import_dangling_index@200:
      description: ''
      content:
        application/json:
          schema:
            $ref: '../schemas/_common.yaml#/components/schemas/AcknowledgedResponseBase'
    dangling.list_dangling_indices@200:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              _nodes:
                $ref: '../schemas/_common.yaml#/components/schemas/NodeStatistics'
              cluster_name:
                $ref: '../schemas/_common.yaml#/components/schemas/Name'
              dangling_indices:
                type: array
                items:
                  $ref: '../schemas/dangling.list_dangling.yaml#/components/schemas/DanglingIndex'
            required:
              - dangling_indices
  parameters:
    dangling.delete_dangling_index::path.index_uuid:
      in: path
      name: index_uuid
      description: The UUID of the dangling index
      required: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Uuid'
      style: simple
    dangling.delete_dangling_index::query.accept_data_loss:
      in: query
      name: accept_data_loss
      description: Must be set to true in order to delete the dangling index
      required: true
      schema:
        type: boolean
      style: form
    dangling.delete_dangling_index::query.cluster_manager_timeout:
      name: cluster_manager_timeout
      in: query
      description: Operation timeout for connection to cluster-manager node.
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      x-version-added: '2.0'
    dangling.delete_dangling_index::query.master_timeout:
      in: query
      name: master_timeout
      description: Specify timeout for connection to master
      deprecated: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
      x-version-deprecated: 2.0.0
      x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
    dangling.delete_dangling_index::query.timeout:
      in: query
      name: timeout
      description: Explicit operation timeout
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
    dangling.import_dangling_index::path.index_uuid:
      in: path
      name: index_uuid
      description: The UUID of the dangling index
      required: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Uuid'
      style: simple
    dangling.import_dangling_index::query.accept_data_loss:
      in: query
      name: accept_data_loss
      description: Must be set to true in order to import the dangling index
      required: true
      schema:
        type: boolean
      style: form
    dangling.import_dangling_index::query.cluster_manager_timeout:
      name: cluster_manager_timeout
      in: query
      description: Operation timeout for connection to cluster-manager node.
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      x-version-added: '2.0'
    dangling.import_dangling_index::query.master_timeout:
      in: query
      name: master_timeout
      description: Specify timeout for connection to master
      deprecated: true
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
      x-version-deprecated: 2.0.0
      x-deprecation-message: To promote inclusive language, use 'cluster_manager_timeout' instead.
    dangling.import_dangling_index::query.timeout:
      in: query
      name: timeout
      description: Explicit operation timeout
      schema:
        $ref: '../schemas/_common.yaml#/components/schemas/Duration'
      style: form
